2025-08-15 13:35:03,422 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:35:03,423 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:35:39,456 - INFO - Found 221 fuel stations
2025-08-15 13:35:39,456 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:35:47,139 - INFO - Calculating farness centrality...
2025-08-15 13:35:51,282 - INFO - Saving graph to GeoPackage...
2025-08-15 13:35:51,709 - INFO - Created 221 records
2025-08-15 13:35:51,980 - INFO - Created 48,620 records
2025-08-15 13:35:52,079 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:35:52,096 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:35:55,382 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:35:55,740 - INFO - Created 211 records
2025-08-15 13:35:55,983 - INFO - Created 44,310 records
2025-08-15 13:35:56,066 - ERROR - Error in main execution: unsupported operand type(s) for /: 'dict' and 'int'
2025-08-15 13:37:32,368 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:37:32,368 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:38:05,282 - INFO - Found 221 fuel stations
2025-08-15 13:38:05,282 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:38:12,956 - INFO - Calculating farness centrality...
2025-08-15 13:38:15,884 - INFO - Saving graph to GeoPackage...
2025-08-15 13:38:16,282 - INFO - Created 221 records
2025-08-15 13:38:16,531 - INFO - Created 48,620 records
2025-08-15 13:38:16,623 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:38:16,634 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:38:19,174 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:38:19,511 - INFO - Created 211 records
2025-08-15 13:38:19,745 - INFO - Created 44,310 records
2025-08-15 13:38:19,831 - ERROR - Error in main execution: not implemented for directed type
2025-08-15 13:39:09,535 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:39:09,535 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:39:42,875 - INFO - Found 221 fuel stations
2025-08-15 13:39:42,875 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:39:53,004 - INFO - Calculating farness centrality...
2025-08-15 13:39:55,830 - INFO - Saving graph to GeoPackage...
2025-08-15 13:39:56,225 - INFO - Created 221 records
2025-08-15 13:39:56,475 - INFO - Created 48,620 records
2025-08-15 13:39:56,565 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:39:56,576 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:39:59,014 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:39:59,350 - INFO - Created 211 records
2025-08-15 13:39:59,595 - INFO - Created 44,310 records
2025-08-15 13:39:59,679 - ERROR - Error in main execution: not implemented for directed type
2025-08-15 13:42:26,587 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:42:26,587 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:43:00,162 - INFO - Found 221 fuel stations
2025-08-15 13:43:00,162 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:43:08,497 - INFO - Calculating farness centrality...
2025-08-15 13:43:11,513 - INFO - Saving graph to GeoPackage...
2025-08-15 13:43:11,894 - INFO - Created 221 records
2025-08-15 13:43:12,138 - INFO - Created 48,620 records
2025-08-15 13:43:12,225 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:43:12,237 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:43:14,943 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:43:15,275 - INFO - Created 211 records
2025-08-15 13:43:15,505 - INFO - Created 44,310 records
2025-08-15 13:45:48,084 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:45:48,084 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:46:21,095 - INFO - Found 221 fuel stations
2025-08-15 13:46:21,095 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:46:29,606 - INFO - Calculating farness centrality...
2025-08-15 13:46:32,455 - INFO - Saving graph to GeoPackage...
2025-08-15 13:46:32,824 - INFO - Created 221 records
2025-08-15 13:46:33,076 - INFO - Created 48,620 records
2025-08-15 13:46:33,164 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:46:33,175 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:46:35,602 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:46:35,967 - INFO - Created 211 records
2025-08-15 13:46:36,201 - INFO - Created 44,310 records
2025-08-15 13:56:25,077 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 13:56:25,077 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 13:56:58,718 - INFO - Found 221 fuel stations
2025-08-15 13:56:58,719 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 13:57:10,644 - INFO - Calculating farness centrality...
2025-08-15 13:57:13,684 - INFO - Saving graph to GeoPackage...
2025-08-15 13:57:14,056 - INFO - Created 221 records
2025-08-15 13:57:14,303 - INFO - Created 48,620 records
2025-08-15 13:57:14,395 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 13:57:14,412 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 13:57:15,789 - INFO - Saving filtered graph to GPKG...
2025-08-15 13:57:16,024 - INFO - Created 171 records
2025-08-15 13:57:16,218 - INFO - Created 29,070 records
2025-08-15 14:01:27,506 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:01:27,506 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:02:00,710 - INFO - Found 221 fuel stations
2025-08-15 14:02:00,710 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:02:10,387 - INFO - Calculating farness centrality...
2025-08-15 14:02:13,248 - INFO - Saving graph to GeoPackage...
2025-08-15 14:02:13,624 - INFO - Created 221 records
2025-08-15 14:02:13,889 - INFO - Created 48,620 records
2025-08-15 14:02:13,983 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:02:13,991 - ERROR - Error in main execution: 
2025-08-15 14:02:50,304 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:02:50,304 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:03:25,770 - INFO - Found 221 fuel stations
2025-08-15 14:03:25,770 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:03:36,189 - INFO - Calculating farness centrality...
2025-08-15 14:03:39,557 - INFO - Saving graph to GeoPackage...
2025-08-15 14:03:39,940 - INFO - Created 221 records
2025-08-15 14:03:40,194 - INFO - Created 48,620 records
2025-08-15 14:03:40,281 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:03:40,289 - ERROR - Error in main execution: 
2025-08-15 14:04:08,543 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:04:08,543 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:04:43,155 - INFO - Found 221 fuel stations
2025-08-15 14:04:43,155 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:04:51,250 - INFO - Calculating farness centrality...
2025-08-15 14:04:54,189 - INFO - Saving graph to GeoPackage...
2025-08-15 14:04:54,591 - INFO - Created 221 records
2025-08-15 14:04:54,842 - INFO - Created 48,620 records
2025-08-15 14:04:54,931 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:04:54,946 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:04:56,256 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:04:56,486 - INFO - Created 171 records
2025-08-15 14:04:56,651 - INFO - Created 29,070 records
2025-08-15 14:07:07,775 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:07:07,775 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:07:40,586 - INFO - Found 221 fuel stations
2025-08-15 14:07:40,586 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:07:48,050 - INFO - Calculating farness centrality...
2025-08-15 14:07:57,813 - INFO - Saving graph to GeoPackage...
2025-08-15 14:07:58,231 - INFO - Created 221 records
2025-08-15 14:07:58,476 - INFO - Created 48,620 records
2025-08-15 14:07:58,563 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:07:58,571 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:07:59,895 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:08:00,129 - INFO - Created 171 records
2025-08-15 14:08:00,314 - INFO - Created 29,070 records
2025-08-15 14:10:52,288 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:10:52,288 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:11:27,020 - INFO - Found 221 fuel stations
2025-08-15 14:11:27,021 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:11:35,959 - INFO - Calculating farness centrality...
2025-08-15 14:11:45,914 - INFO - Saving graph to GeoPackage...
2025-08-15 14:11:46,311 - INFO - Created 221 records
2025-08-15 14:11:46,565 - INFO - Created 48,620 records
2025-08-15 14:11:46,655 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:11:46,662 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:11:47,917 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:11:48,155 - INFO - Created 171 records
2025-08-15 14:11:48,327 - INFO - Created 29,070 records
2025-08-15 14:12:37,567 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:12:37,567 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:13:15,434 - INFO - Found 221 fuel stations
2025-08-15 14:13:15,434 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:13:28,802 - INFO - Calculating farness centrality...
2025-08-15 14:13:40,219 - INFO - Saving graph to GeoPackage...
2025-08-15 14:13:40,625 - INFO - Created 221 records
2025-08-15 14:13:40,895 - INFO - Created 48,620 records
2025-08-15 14:13:40,988 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:13:40,996 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:13:42,657 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:13:42,892 - INFO - Created 171 records
2025-08-15 14:13:43,061 - INFO - Created 29,070 records
2025-08-15 14:15:33,976 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:15:33,976 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:16:07,712 - INFO - Found 221 fuel stations
2025-08-15 14:16:07,712 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:16:17,454 - INFO - Calculating farness centrality...
2025-08-15 14:16:27,078 - INFO - Saving graph to GeoPackage...
2025-08-15 14:16:27,473 - INFO - Created 221 records
2025-08-15 14:16:27,726 - INFO - Created 48,620 records
2025-08-15 14:16:27,815 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:16:27,823 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:16:29,111 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:16:29,342 - INFO - Created 171 records
2025-08-15 14:16:29,512 - INFO - Created 29,070 records
2025-08-15 14:29:39,354 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:29:39,354 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:30:12,276 - INFO - Found 221 fuel stations
2025-08-15 14:30:12,276 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:30:22,161 - INFO - Calculating farness centrality...
2025-08-15 14:30:31,693 - INFO - Saving graph to GeoPackage...
2025-08-15 14:30:32,061 - INFO - Created 221 records
2025-08-15 14:30:32,320 - INFO - Created 48,620 records
2025-08-15 14:30:32,412 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:30:32,420 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:30:33,722 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:30:33,959 - INFO - Created 171 records
2025-08-15 14:30:34,126 - INFO - Created 29,070 records
2025-08-15 14:36:16,289 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:36:16,289 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:36:49,396 - INFO - Found 221 fuel stations
2025-08-15 14:36:49,396 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:37:02,349 - INFO - Calculating farness centrality...
2025-08-15 14:37:11,938 - INFO - Saving graph to GeoPackage...
2025-08-15 14:37:12,315 - INFO - Created 221 records
2025-08-15 14:37:12,572 - INFO - Created 48,620 records
2025-08-15 14:37:12,683 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:37:20,677 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:37:21,920 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:37:22,178 - INFO - Created 171 records
2025-08-15 14:37:22,342 - INFO - Created 29,070 records
2025-08-15 14:43:20,169 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:43:20,169 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:43:53,136 - INFO - Found 221 fuel stations
2025-08-15 14:43:53,136 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:44:02,813 - INFO - Calculating farness centrality...
2025-08-15 14:44:13,172 - INFO - Saving graph to GeoPackage...
2025-08-15 14:44:13,565 - INFO - Created 221 records
2025-08-15 14:44:13,821 - INFO - Created 48,620 records
2025-08-15 14:44:13,909 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:44:19,707 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:44:21,291 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:44:21,553 - INFO - Created 171 records
2025-08-15 14:44:21,719 - INFO - Created 29,070 records
2025-08-15 14:47:07,204 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:47:07,204 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:47:41,098 - INFO - Found 221 fuel stations
2025-08-15 14:47:41,098 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:47:51,068 - INFO - Calculating farness centrality...
2025-08-15 14:48:00,715 - INFO - Saving graph to GeoPackage...
2025-08-15 14:48:01,117 - INFO - Created 221 records
2025-08-15 14:48:01,366 - INFO - Created 48,620 records
2025-08-15 14:48:01,454 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:48:06,005 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:48:07,309 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:48:07,532 - INFO - Created 171 records
2025-08-15 14:48:07,707 - INFO - Created 29,070 records
2025-08-15 14:48:45,902 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:48:45,902 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:49:18,857 - INFO - Found 221 fuel stations
2025-08-15 14:49:18,857 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:49:27,543 - INFO - Calculating farness centrality...
2025-08-15 14:49:37,101 - INFO - Saving graph to GeoPackage...
2025-08-15 14:49:37,510 - INFO - Created 221 records
2025-08-15 14:49:37,767 - INFO - Created 48,620 records
2025-08-15 14:49:37,855 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:49:44,823 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:49:46,073 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:49:46,327 - INFO - Created 171 records
2025-08-15 14:49:46,498 - INFO - Created 29,070 records
2025-08-15 14:51:14,806 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:51:14,806 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:51:50,274 - INFO - Found 221 fuel stations
2025-08-15 14:51:50,274 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:51:57,957 - INFO - Calculating farness centrality...
2025-08-15 14:52:10,057 - INFO - Saving graph to GeoPackage...
2025-08-15 14:52:10,527 - INFO - Created 221 records
2025-08-15 14:52:10,796 - INFO - Created 48,620 records
2025-08-15 14:52:10,886 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:52:15,151 - ERROR - Error in main execution: remove_long_edges() got an unexpected keyword argument 'max_length'
2025-08-15 14:52:35,945 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:52:35,945 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:53:09,217 - INFO - Found 221 fuel stations
2025-08-15 14:53:09,217 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:53:19,060 - INFO - Calculating farness centrality...
2025-08-15 14:53:28,848 - INFO - Saving graph to GeoPackage...
2025-08-15 14:53:29,258 - INFO - Created 221 records
2025-08-15 14:53:29,505 - INFO - Created 48,620 records
2025-08-15 14:53:29,593 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:53:45,903 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:53:45,904 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:53:46,140 - INFO - Created 171 records
2025-08-15 14:53:46,306 - INFO - Created 29,070 records
2025-08-15 14:58:09,657 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:58:09,657 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 14:58:46,401 - INFO - Found 221 fuel stations
2025-08-15 14:58:46,409 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 14:58:59,549 - INFO - Calculating farness centrality...
2025-08-15 14:59:10,575 - INFO - Saving graph to GeoPackage...
2025-08-15 14:59:10,971 - INFO - Created 221 records
2025-08-15 14:59:11,226 - INFO - Created 48,620 records
2025-08-15 14:59:11,317 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 14:59:15,939 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 14:59:15,940 - INFO - Saving filtered graph to GPKG...
2025-08-15 14:59:16,172 - INFO - Created 171 records
2025-08-15 14:59:16,336 - INFO - Created 29,070 records
2025-08-15 14:59:35,934 - INFO - Starting fuel station analysis for: Hamburg, Germany
2025-08-15 14:59:35,934 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-15 15:00:12,026 - INFO - Found 221 fuel stations
2025-08-15 15:00:12,026 - INFO - Calculating stations graph using OpenRouteService...
2025-08-15 15:00:22,827 - INFO - Calculating farness centrality...
2025-08-15 15:00:34,948 - INFO - Saving graph to GeoPackage...
2025-08-15 15:00:35,342 - INFO - Created 221 records
2025-08-15 15:00:35,595 - INFO - Created 48,620 records
2025-08-15 15:00:35,687 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-15 15:00:39,793 - INFO - Calculating farness centrality for filtered graph...
2025-08-15 15:00:39,795 - INFO - Saving filtered graph to GPKG...
2025-08-15 15:00:39,820 - INFO - Created 171 records
2025-08-15 15:00:39,910 - INFO - Created 0 records
2025-08-16 15:26:19,306 - INFO - Starting fuel station analysis for: Luxembourg
2025-08-16 15:26:19,306 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-16 15:26:19,361 - INFO - Found 3862 fuel stations
2025-08-16 15:26:19,361 - INFO - Calculating stations graph using OpenRouteService...
2025-08-16 15:26:19,361 - ERROR - Error in main execution: make_graph_from_stations() got an unexpected keyword argument 'max_distance'
2025-08-16 15:26:50,985 - INFO - Starting fuel station analysis for: Luxembourg
2025-08-16 15:26:50,985 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-16 15:26:51,032 - INFO - Found 3862 fuel stations
2025-08-16 15:26:51,032 - INFO - Calculating stations graph using OpenRouteService...
2025-08-16 15:51:45,923 - INFO - Calculating farness centrality...
2025-08-16 16:00:55,948 - INFO - Saving graph to GeoPackage...
2025-08-16 16:01:32,876 - INFO - Created 3,862 records
2025-08-16 16:01:45,237 - INFO - Created 3,980,744 records
2025-08-16 16:01:53,927 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-16 16:01:54,373 - ERROR - Error in main execution: make_graph_from_stations() got an unexpected keyword argument 'max_distance'
2025-08-16 16:16:57,437 - INFO - Starting fuel station analysis for: Luxembourg
2025-08-16 16:16:57,437 - INFO - Downloading fuel stations from OpenStreetMap...
2025-08-16 16:16:57,485 - INFO - Found 3862 fuel stations
2025-08-16 16:16:57,485 - INFO - Calculating stations graph using OpenRouteService...
2025-08-16 16:41:35,591 - INFO - Calculating farness centrality...
2025-08-16 16:50:44,829 - INFO - Saving graph to GeoPackage...
2025-08-16 16:51:21,209 - INFO - Created 3,862 records
2025-08-16 16:51:39,847 - INFO - Created 3,980,744 records
2025-08-16 16:51:48,777 - INFO - Modify base graph according to fuel stations farness nodes...
2025-08-16 17:13:27,240 - ERROR - Error in main execution: 
2025-08-18 11:43:57,630 - __main__ - INFO - ============================================================
2025-08-18 11:43:57,630 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-18 11:43:57,631 - __main__ - INFO - ============================================================
2025-08-18 11:43:57,631 - __main__ - INFO - Analysis parameters:
2025-08-18 11:43:57,631 - __main__ - INFO -   Place: Luxembourg
2025-08-18 11:43:57,631 - __main__ - INFO -   Max distance: 500,000 meters
2025-08-18 11:43:57,631 - __main__ - INFO -   Stations to remove: 50
2025-08-18 11:43:57,631 - __main__ - INFO -   ORS API Key: SET
2025-08-18 11:43:57,631 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-18 11:43:57,631 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-18 11:43:57,684 - __main__ - INFO - Loaded 500 fuel stations
2025-08-18 11:43:57,685 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-18 11:43:57,685 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-18 11:43:57,710 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-18 11:43:57,711 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-18 11:43:57,711 - ors_router - INFO - Initialized distance matrix
2025-08-18 11:44:01,830 - __main__ - INFO - ============================================================
2025-08-18 11:44:01,830 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-18 11:44:01,830 - __main__ - INFO - ============================================================
2025-08-18 11:44:01,830 - __main__ - INFO - Analysis parameters:
2025-08-18 11:44:01,830 - __main__ - INFO -   Place: Luxembourg
2025-08-18 11:44:01,830 - __main__ - INFO -   Max distance: 500,000 meters
2025-08-18 11:44:01,830 - __main__ - INFO -   Stations to remove: 50
2025-08-18 11:44:01,831 - __main__ - INFO -   ORS API Key: SET
2025-08-18 11:44:01,831 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-18 11:44:01,831 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-18 11:44:01,885 - __main__ - INFO - Loaded 500 fuel stations
2025-08-18 11:44:01,885 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-18 11:44:01,885 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-18 11:44:01,911 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-18 11:44:01,911 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-18 11:44:01,911 - ors_router - INFO - Initialized distance matrix
2025-08-18 11:44:04,915 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-18 11:44:08,908 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-18 11:44:12,090 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-18 11:44:16,151 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-18 11:44:25,698 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-18 11:44:28,877 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-18 11:44:31,862 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-18 11:44:35,235 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-18 11:44:43,817 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-18 11:44:45,561 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-18 11:44:45,693 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 11:44:45,693 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 11:44:45,693 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 11:44:45,839 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-18 11:44:45,845 - __main__ - INFO - Initial graph created successfully
2025-08-18 11:44:45,846 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-18 11:44:45,846 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 11:44:45,948 - utils - INFO - Found 186189 edges longer than 500,000 meters (74.6% of all edges)
2025-08-18 11:44:45,962 - utils - INFO - Removed 186189 long edges. Graph now has 63311 edges
2025-08-18 11:44:45,965 - __main__ - INFO - Edge filtering completed
2025-08-18 11:44:45,965 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-18 11:44:45,965 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 63311 edges
2025-08-18 11:44:45,965 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 11:44:46,117 - centrality - INFO - Distance matrix calculation completed
2025-08-18 11:44:46,164 - centrality - INFO - Farness centrality computation completed - Avg farness: 394252308.80, Max farness: 787209597.33
2025-08-18 11:44:46,166 - __main__ - INFO - Farness centrality computation completed
2025-08-18 11:44:46,167 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-18 11:44:46,167 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 11:44:46,168 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 11:44:46,172 - centrality - INFO - Using largest component with 497 nodes for centrality calculations
2025-08-18 11:44:46,400 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 11:44:46,407 - centrality - INFO - Graph statistics computation completed
2025-08-18 11:44:46,408 - __main__ - INFO - Initial statistics computed
2025-08-18 11:44:46,408 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-18 11:44:46,408 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-18 11:44:46,963 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-18 11:44:47,012 - pyogrio._io - INFO - Created 500 records
2025-08-18 11:44:47,345 - pyogrio._io - INFO - Created 63,311 records
2025-08-18 11:44:47,445 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-18 11:44:47,453 - __main__ - INFO - Initial graph saved successfully
2025-08-18 11:44:47,453 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-18 11:44:47,453 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-18 11:44:47,453 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-18 11:44:47,453 - utils - INFO - Removing nodes with farness range: 501178228.07 - 787209597.33
2025-08-18 11:44:47,456 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-18 11:44:47,456 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-18 11:44:47,462 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-18 11:44:47,462 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-18 11:44:47,485 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-18 11:44:47,485 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-18 11:44:47,486 - ors_router - INFO - Initialized distance matrix
2025-08-18 11:44:54,888 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-18 11:44:57,139 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-18 11:44:59,502 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-18 11:45:02,557 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-18 11:45:05,015 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-18 11:45:07,268 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-18 11:45:16,800 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-18 11:45:19,043 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-18 11:45:21,512 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-18 11:45:23,250 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-18 11:45:24,572 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 11:45:24,573 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 11:45:24,573 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 11:45:24,717 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-18 11:45:24,722 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 11:45:24,808 - utils - INFO - Found 142498 edges longer than 500,000 meters (70.5% of all edges)
2025-08-18 11:45:24,820 - utils - INFO - Removed 142498 long edges. Graph now has 59552 edges
2025-08-18 11:45:24,823 - __main__ - INFO - Filtered graph creation completed
2025-08-18 11:45:24,823 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-18 11:45:24,823 - __main__ - INFO - Removing random stations for comparison...
2025-08-18 11:45:24,825 - utils - INFO - Removing 50 random stations from graph
2025-08-18 11:45:24,825 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-18 11:45:24,832 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-18 11:45:24,832 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-18 11:45:24,840 - __main__ - INFO - Creating new graph from random stations...
2025-08-18 11:45:24,840 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-18 11:45:24,868 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-18 11:45:24,868 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-18 11:45:24,869 - ors_router - INFO - Initialized distance matrix
2025-08-18 11:45:27,648 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-18 11:45:30,308 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-18 11:45:32,877 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-18 11:45:36,258 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-18 11:45:38,407 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-18 11:45:40,150 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-18 11:45:41,675 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-18 11:45:43,426 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-18 11:45:45,166 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-18 11:45:47,002 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-18 11:45:48,491 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-18 11:45:50,071 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-18 11:45:50,378 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 11:45:50,378 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 11:45:50,379 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 11:45:50,433 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (158006 with finite weights, 1594 infinite)
2025-08-18 11:45:50,439 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 11:45:50,518 - utils - INFO - Found 112848 edges longer than 500,000 meters (70.7% of all edges)
2025-08-18 11:45:50,528 - utils - INFO - Removed 112848 long edges. Graph now has 46752 edges
2025-08-18 11:45:50,530 - __main__ - INFO - Random comparison graph creation completed
2025-08-18 11:45:50,530 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-18 11:45:50,530 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 59552 edges
2025-08-18 11:45:50,530 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 11:45:50,651 - centrality - INFO - Distance matrix calculation completed
2025-08-18 11:45:50,692 - centrality - INFO - Farness centrality computation completed - Avg farness: 318690916.06, Max farness: 456606516.61
2025-08-18 11:45:50,698 - __main__ - INFO - Filtered graph farness computation completed
2025-08-18 11:45:50,698 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-18 11:45:50,698 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 46752 edges
2025-08-18 11:45:50,698 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 11:45:50,786 - centrality - INFO - Distance matrix calculation completed
2025-08-18 11:45:50,825 - centrality - INFO - Farness centrality computation completed - Avg farness: 285265467.35, Max farness: 407858717.58
2025-08-18 11:45:50,829 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-18 11:45:50,829 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-18 11:45:50,829 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-18 11:45:51,416 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-18 11:45:51,440 - pyogrio._io - INFO - Created 450 records
2025-08-18 11:45:51,752 - pyogrio._io - INFO - Created 59,552 records
2025-08-18 11:45:51,849 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-18 11:45:51,858 - __main__ - INFO - Filtered graph saved successfully
2025-08-18 11:45:51,858 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-18 11:45:51,858 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-18 11:45:52,262 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-18 11:45:52,285 - pyogrio._io - INFO - Created 400 records
2025-08-18 11:45:52,437 - pyogrio._io - INFO - Created 46,752 records
2025-08-18 11:45:52,515 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-18 11:45:52,520 - __main__ - INFO - Random comparison graph saved successfully
2025-08-18 11:45:52,520 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-18 11:45:52,520 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 11:45:52,522 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 11:45:52,527 - centrality - INFO - Using largest component with 447 nodes for centrality calculations
2025-08-18 11:45:52,719 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 11:45:52,726 - centrality - INFO - Graph statistics computation completed
2025-08-18 11:45:52,726 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 11:45:52,727 - centrality - INFO - Graph connectivity: False, Components: 3
2025-08-18 11:45:52,731 - centrality - INFO - Using largest component with 398 nodes for centrality calculations
2025-08-18 11:45:52,867 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 11:45:52,873 - centrality - INFO - Graph statistics computation completed
2025-08-18 11:45:52,874 - __main__ - INFO - Comparison statistics generated
2025-08-18 11:45:52,874 - __main__ - INFO - ============================================================
2025-08-18 11:45:52,874 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-18 11:45:52,874 - __main__ - INFO - ============================================================
2025-08-18 13:09:12,960 - __main__ - INFO - ============================================================
2025-08-18 13:09:12,960 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-18 13:09:12,960 - __main__ - INFO - ============================================================
2025-08-18 13:09:12,960 - __main__ - INFO - Analysis parameters:
2025-08-18 13:09:12,960 - __main__ - INFO -   Place: Luxembourg
2025-08-18 13:09:12,960 - __main__ - INFO -   Max distance: 500,000 meters
2025-08-18 13:09:12,960 - __main__ - INFO -   Stations to remove: 50
2025-08-18 13:09:12,961 - __main__ - INFO -   ORS API Key: SET
2025-08-18 13:09:12,961 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-18 13:09:12,961 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-18 13:09:13,012 - __main__ - INFO - Loaded 500 fuel stations
2025-08-18 13:09:13,012 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-18 13:09:13,012 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-18 13:09:13,038 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-18 13:09:13,038 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-18 13:09:13,039 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:09:15,897 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-18 13:09:18,880 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-18 13:09:21,657 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-18 13:09:24,919 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-18 13:09:40,281 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-18 13:09:44,784 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-18 13:09:48,769 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-18 13:09:52,957 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-18 13:09:56,551 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-18 13:09:58,164 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-18 13:09:58,494 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:09:58,494 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:09:58,494 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:09:58,641 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-18 13:09:58,647 - __main__ - INFO - Initial graph created successfully
2025-08-18 13:09:58,647 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-18 13:09:58,647 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:09:58,751 - utils - INFO - Found 186189 edges longer than 500,000 meters (74.6% of all edges)
2025-08-18 13:09:58,766 - utils - INFO - Removed 186189 long edges. Graph now has 63311 edges
2025-08-18 13:09:58,768 - __main__ - INFO - Edge filtering completed
2025-08-18 13:09:58,768 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-18 13:09:58,768 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 63311 edges
2025-08-18 13:09:58,768 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:09:58,913 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:09:58,960 - centrality - INFO - Farness centrality computation completed - Avg farness: 394252308.80, Max farness: 787209597.33
2025-08-18 13:09:58,962 - __main__ - INFO - Farness centrality computation completed
2025-08-18 13:09:58,962 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-18 13:09:58,962 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:09:58,963 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:09:58,967 - centrality - INFO - Using largest component with 497 nodes for centrality calculations
2025-08-18 13:09:59,189 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:09:59,197 - centrality - INFO - Computing straightness centrality for graph with 500 nodes
2025-08-18 13:09:59,357 - centrality - INFO - Straightness centrality computation completed - Avg straightness: 0.000008, Max straightness: 0.000008
2025-08-18 13:09:59,358 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:09:59,358 - __main__ - INFO - Initial statistics computed
2025-08-18 13:09:59,359 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-18 13:09:59,359 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-18 13:09:59,907 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-18 13:09:59,929 - pyogrio._io - INFO - Created 500 records
2025-08-18 13:10:00,261 - pyogrio._io - INFO - Created 63,311 records
2025-08-18 13:10:00,361 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-18 13:10:00,369 - __main__ - INFO - Initial graph saved successfully
2025-08-18 13:10:00,369 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-18 13:10:00,369 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-18 13:10:00,369 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-18 13:10:00,370 - utils - INFO - Removing nodes with farness range: 501178228.07 - 787209597.33
2025-08-18 13:10:00,374 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-18 13:10:00,375 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-18 13:10:00,381 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-18 13:10:00,381 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-18 13:10:00,404 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-18 13:10:00,404 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-18 13:10:00,405 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:10:02,397 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-18 13:10:04,641 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-18 13:10:06,778 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-18 13:10:08,940 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-18 13:10:11,091 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-18 13:10:13,460 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-18 13:10:15,720 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-18 13:10:23,174 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-18 13:10:25,529 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-18 13:10:27,271 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-18 13:10:28,293 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:10:28,293 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:10:28,294 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:10:28,436 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-18 13:10:28,442 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:10:28,526 - utils - INFO - Found 142498 edges longer than 500,000 meters (70.5% of all edges)
2025-08-18 13:10:28,539 - utils - INFO - Removed 142498 long edges. Graph now has 59552 edges
2025-08-18 13:10:28,542 - __main__ - INFO - Filtered graph creation completed
2025-08-18 13:10:28,542 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-18 13:10:28,542 - __main__ - INFO - Removing random stations for comparison...
2025-08-18 13:10:28,543 - utils - INFO - Removing 50 random stations from graph
2025-08-18 13:10:28,544 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-18 13:10:28,546 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-18 13:10:28,546 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-18 13:10:28,552 - __main__ - INFO - Creating new graph from random stations...
2025-08-18 13:10:28,552 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-18 13:10:28,574 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-18 13:10:28,574 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-18 13:10:28,574 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:10:30,139 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-18 13:10:31,581 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-18 13:10:33,118 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-18 13:10:34,553 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-18 13:10:36,284 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-18 13:10:37,623 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-18 13:10:38,957 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-18 13:10:40,494 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-18 13:10:42,231 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-18 13:10:43,768 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-18 13:10:45,098 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-18 13:10:46,327 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-18 13:10:46,624 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:10:46,624 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:10:46,625 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:10:46,681 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (158006 with finite weights, 1594 infinite)
2025-08-18 13:10:46,687 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:10:46,756 - utils - INFO - Found 112848 edges longer than 500,000 meters (70.7% of all edges)
2025-08-18 13:10:46,766 - utils - INFO - Removed 112848 long edges. Graph now has 46752 edges
2025-08-18 13:10:46,768 - __main__ - INFO - Random comparison graph creation completed
2025-08-18 13:10:46,768 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-18 13:10:46,768 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 59552 edges
2025-08-18 13:10:46,768 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:10:46,887 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:10:46,927 - centrality - INFO - Farness centrality computation completed - Avg farness: 318690916.06, Max farness: 456606516.61
2025-08-18 13:10:46,933 - __main__ - INFO - Filtered graph farness computation completed
2025-08-18 13:10:46,933 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-18 13:10:46,933 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 46752 edges
2025-08-18 13:10:46,933 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:10:47,024 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:10:47,057 - centrality - INFO - Farness centrality computation completed - Avg farness: 285265467.35, Max farness: 407858717.58
2025-08-18 13:10:47,060 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-18 13:10:47,060 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-18 13:10:47,060 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-18 13:10:47,669 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-18 13:10:47,692 - pyogrio._io - INFO - Created 450 records
2025-08-18 13:10:48,005 - pyogrio._io - INFO - Created 59,552 records
2025-08-18 13:10:48,097 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-18 13:10:48,104 - __main__ - INFO - Filtered graph saved successfully
2025-08-18 13:10:48,105 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-18 13:10:48,105 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-18 13:10:48,516 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-18 13:10:48,539 - pyogrio._io - INFO - Created 400 records
2025-08-18 13:10:48,784 - pyogrio._io - INFO - Created 46,752 records
2025-08-18 13:10:48,864 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-18 13:10:48,870 - __main__ - INFO - Random comparison graph saved successfully
2025-08-18 13:10:48,870 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-18 13:10:48,870 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:10:48,871 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:10:48,877 - centrality - INFO - Using largest component with 447 nodes for centrality calculations
2025-08-18 13:10:49,071 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:10:49,079 - centrality - INFO - Computing straightness centrality for graph with 450 nodes
2025-08-18 13:10:49,218 - centrality - INFO - Straightness centrality computation completed - Avg straightness: 0.000008, Max straightness: 0.000009
2025-08-18 13:10:49,218 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:10:49,219 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:10:49,220 - centrality - INFO - Graph connectivity: False, Components: 3
2025-08-18 13:10:49,223 - centrality - INFO - Using largest component with 398 nodes for centrality calculations
2025-08-18 13:10:49,357 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:10:49,363 - centrality - INFO - Computing straightness centrality for graph with 400 nodes
2025-08-18 13:10:49,466 - centrality - INFO - Straightness centrality computation completed - Avg straightness: 0.000008, Max straightness: 0.000009
2025-08-18 13:10:49,467 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:10:49,468 - __main__ - INFO - Comparison statistics generated
2025-08-18 13:10:49,468 - __main__ - INFO - ============================================================
2025-08-18 13:10:49,468 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-18 13:10:49,468 - __main__ - INFO - ============================================================
2025-08-18 13:31:11,824 - __main__ - INFO - ============================================================
2025-08-18 13:31:11,824 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-18 13:31:11,824 - __main__ - INFO - ============================================================
2025-08-18 13:31:11,824 - __main__ - INFO - Analysis parameters:
2025-08-18 13:31:11,824 - __main__ - INFO -   Place: Luxembourg
2025-08-18 13:31:11,824 - __main__ - INFO -   Max distance: 500,000 meters
2025-08-18 13:31:11,824 - __main__ - INFO -   Stations to remove: 50
2025-08-18 13:31:11,824 - __main__ - INFO -   ORS API Key: SET
2025-08-18 13:31:11,824 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-18 13:31:11,824 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-18 13:31:11,876 - __main__ - INFO - Loaded 500 fuel stations
2025-08-18 13:31:11,876 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-18 13:31:11,876 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-18 13:31:11,905 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-18 13:31:11,905 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-18 13:31:11,905 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:31:14,424 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-18 13:31:17,915 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-18 13:31:20,772 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-18 13:31:23,650 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-18 13:31:26,271 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-18 13:31:29,317 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-18 13:31:32,138 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-18 13:31:34,913 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-18 13:31:37,873 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-18 13:31:39,512 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-18 13:31:44,938 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:31:44,938 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:31:44,939 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:31:45,089 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-18 13:31:45,096 - __main__ - INFO - Initial graph created successfully
2025-08-18 13:31:45,096 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-18 13:31:45,096 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:31:45,203 - utils - INFO - Found 186189 edges longer than 500,000 meters (74.6% of all edges)
2025-08-18 13:31:45,218 - utils - INFO - Removed 186189 long edges. Graph now has 63311 edges
2025-08-18 13:31:45,220 - __main__ - INFO - Edge filtering completed
2025-08-18 13:31:45,220 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-18 13:31:45,220 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 63311 edges
2025-08-18 13:31:45,220 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:31:45,366 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:31:45,419 - centrality - INFO - Farness centrality computation completed - Avg farness: 394252308.80, Max farness: 787209597.33
2025-08-18 13:31:45,421 - __main__ - INFO - Farness centrality computation completed
2025-08-18 13:31:45,421 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-18 13:31:45,422 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:31:45,423 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:31:45,428 - centrality - INFO - Using largest component with 497 nodes for centrality calculations
2025-08-18 13:31:45,656 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:31:46,503 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:31:46,503 - __main__ - INFO - Initial statistics computed
2025-08-18 13:31:46,503 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-18 13:31:46,503 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-18 13:31:47,053 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-18 13:31:47,075 - pyogrio._io - INFO - Created 500 records
2025-08-18 13:31:47,409 - pyogrio._io - INFO - Created 63,311 records
2025-08-18 13:31:47,514 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-18 13:31:47,521 - __main__ - INFO - Initial graph saved successfully
2025-08-18 13:31:47,521 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-18 13:31:47,521 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-18 13:31:47,521 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-18 13:31:47,522 - utils - INFO - Removing nodes with farness range: 501178228.07 - 787209597.33
2025-08-18 13:31:47,525 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-18 13:31:47,525 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-18 13:31:47,530 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-18 13:31:47,530 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-18 13:31:47,554 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-18 13:31:47,554 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-18 13:31:47,554 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:31:57,228 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-18 13:31:59,390 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-18 13:32:10,453 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-18 13:32:14,023 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-18 13:32:17,001 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-18 13:32:19,675 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-18 13:32:24,998 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-18 13:32:26,782 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-18 13:32:28,809 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-18 13:32:31,376 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-18 13:32:32,208 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:32:32,208 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:32:32,208 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:32:32,328 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-18 13:32:32,334 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:32:32,422 - utils - INFO - Found 142498 edges longer than 500,000 meters (70.5% of all edges)
2025-08-18 13:32:32,433 - utils - INFO - Removed 142498 long edges. Graph now has 59552 edges
2025-08-18 13:32:32,436 - __main__ - INFO - Filtered graph creation completed
2025-08-18 13:32:32,436 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-18 13:32:32,436 - __main__ - INFO - Removing random stations for comparison...
2025-08-18 13:32:32,438 - utils - INFO - Removing 50 random stations from graph
2025-08-18 13:32:32,438 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-18 13:32:32,441 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-18 13:32:32,441 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-18 13:32:32,446 - __main__ - INFO - Creating new graph from random stations...
2025-08-18 13:32:32,446 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-18 13:32:32,468 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-18 13:32:32,468 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-18 13:32:32,468 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:32:34,003 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-18 13:32:35,450 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-18 13:32:37,088 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-18 13:32:38,619 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-18 13:32:40,464 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-18 13:32:42,000 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-18 13:32:43,535 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-18 13:32:45,164 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-18 13:32:46,825 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-18 13:32:48,478 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-18 13:32:49,904 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-18 13:32:51,412 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-18 13:32:51,780 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:32:51,780 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:32:51,781 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:32:51,831 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (158006 with finite weights, 1594 infinite)
2025-08-18 13:32:51,837 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:32:51,906 - utils - INFO - Found 112848 edges longer than 500,000 meters (70.7% of all edges)
2025-08-18 13:32:51,917 - utils - INFO - Removed 112848 long edges. Graph now has 46752 edges
2025-08-18 13:32:51,919 - __main__ - INFO - Random comparison graph creation completed
2025-08-18 13:32:51,919 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-18 13:32:51,919 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 59552 edges
2025-08-18 13:32:51,919 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:32:52,041 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:32:52,081 - centrality - INFO - Farness centrality computation completed - Avg farness: 318690916.06, Max farness: 456606516.61
2025-08-18 13:32:52,088 - __main__ - INFO - Filtered graph farness computation completed
2025-08-18 13:32:52,088 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-18 13:32:52,089 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 46752 edges
2025-08-18 13:32:52,089 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:32:52,177 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:32:52,212 - centrality - INFO - Farness centrality computation completed - Avg farness: 285265467.35, Max farness: 407858717.58
2025-08-18 13:32:52,219 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-18 13:32:52,219 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-18 13:32:52,219 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-18 13:32:52,811 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-18 13:32:52,858 - pyogrio._io - INFO - Created 450 records
2025-08-18 13:32:53,175 - pyogrio._io - INFO - Created 59,552 records
2025-08-18 13:32:53,269 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-18 13:32:53,276 - __main__ - INFO - Filtered graph saved successfully
2025-08-18 13:32:53,276 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-18 13:32:53,276 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-18 13:32:53,705 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-18 13:32:53,728 - pyogrio._io - INFO - Created 400 records
2025-08-18 13:32:53,983 - pyogrio._io - INFO - Created 46,752 records
2025-08-18 13:32:54,062 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-18 13:32:54,067 - __main__ - INFO - Random comparison graph saved successfully
2025-08-18 13:32:54,067 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-18 13:32:54,067 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:32:54,069 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:32:54,075 - centrality - INFO - Using largest component with 447 nodes for centrality calculations
2025-08-18 13:32:54,269 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:32:54,976 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:32:54,977 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:32:54,978 - centrality - INFO - Graph connectivity: False, Components: 3
2025-08-18 13:32:54,982 - centrality - INFO - Using largest component with 398 nodes for centrality calculations
2025-08-18 13:32:55,115 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:32:55,655 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:32:55,656 - __main__ - INFO - Comparison statistics generated
2025-08-18 13:32:55,656 - __main__ - INFO - ============================================================
2025-08-18 13:32:55,657 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-18 13:32:55,657 - __main__ - INFO - ============================================================
2025-08-18 13:38:50,045 - __main__ - INFO - ============================================================
2025-08-18 13:38:50,045 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-18 13:38:50,045 - __main__ - INFO - ============================================================
2025-08-18 13:38:50,045 - __main__ - INFO - Analysis parameters:
2025-08-18 13:38:50,045 - __main__ - INFO -   Place: Luxembourg
2025-08-18 13:38:50,045 - __main__ - INFO -   Max distance: 500,000 meters
2025-08-18 13:38:50,045 - __main__ - INFO -   Stations to remove: 50
2025-08-18 13:38:50,045 - __main__ - INFO -   ORS API Key: SET
2025-08-18 13:38:50,045 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-18 13:38:50,045 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-18 13:38:50,097 - __main__ - INFO - Loaded 500 fuel stations
2025-08-18 13:38:50,097 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-18 13:38:50,098 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-18 13:38:50,124 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-18 13:38:50,124 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-18 13:38:50,124 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:38:53,354 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-18 13:38:56,369 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-18 13:39:03,385 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-18 13:39:11,950 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-18 13:39:15,110 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-18 13:39:18,183 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-18 13:39:26,284 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-18 13:39:29,343 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-18 13:39:32,197 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-18 13:39:44,592 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-18 13:39:44,793 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:39:44,793 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:39:44,793 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:39:44,941 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-18 13:39:44,947 - __main__ - INFO - Initial graph created successfully
2025-08-18 13:39:44,947 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-18 13:39:44,947 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:39:45,056 - utils - INFO - Found 186189 edges longer than 500,000 meters (74.6% of all edges)
2025-08-18 13:39:45,072 - utils - INFO - Removed 186189 long edges. Graph now has 63311 edges
2025-08-18 13:39:45,075 - __main__ - INFO - Edge filtering completed
2025-08-18 13:39:45,075 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-18 13:39:45,075 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 63311 edges
2025-08-18 13:39:45,075 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:39:45,218 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:39:45,266 - centrality - INFO - Farness centrality computation completed - Avg farness: 394252308.80, Max farness: 787209597.33
2025-08-18 13:39:45,268 - __main__ - INFO - Farness centrality computation completed
2025-08-18 13:39:45,268 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-18 13:39:45,269 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:39:45,269 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:39:45,279 - centrality - INFO - Using largest component with 497 nodes for centrality calculations
2025-08-18 13:39:45,506 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:39:46,359 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:39:46,360 - __main__ - INFO - Initial statistics computed
2025-08-18 13:39:46,360 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-18 13:39:46,360 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-18 13:39:46,910 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-18 13:39:46,960 - pyogrio._io - INFO - Created 500 records
2025-08-18 13:39:47,296 - pyogrio._io - INFO - Created 63,311 records
2025-08-18 13:39:47,397 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-18 13:39:47,405 - __main__ - INFO - Initial graph saved successfully
2025-08-18 13:39:47,405 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-18 13:39:47,405 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-18 13:39:47,406 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-18 13:39:47,406 - utils - INFO - Removing nodes with farness range: 501178228.07 - 787209597.33
2025-08-18 13:39:47,410 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-18 13:39:47,410 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-18 13:39:47,416 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-18 13:39:47,416 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-18 13:39:47,439 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-18 13:39:47,439 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-18 13:39:47,439 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:39:49,415 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-18 13:39:51,664 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-18 13:39:53,840 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-18 13:39:56,161 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-18 13:39:58,477 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-18 13:40:00,872 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-18 13:40:04,363 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-18 13:40:08,551 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-18 13:40:21,992 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-18 13:40:23,706 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-18 13:40:24,832 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:40:24,832 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:40:24,833 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:40:24,954 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-18 13:40:24,960 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:40:25,044 - utils - INFO - Found 142498 edges longer than 500,000 meters (70.5% of all edges)
2025-08-18 13:40:25,057 - utils - INFO - Removed 142498 long edges. Graph now has 59552 edges
2025-08-18 13:40:25,059 - __main__ - INFO - Filtered graph creation completed
2025-08-18 13:40:25,059 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-18 13:40:25,059 - __main__ - INFO - Removing random stations for comparison...
2025-08-18 13:40:25,061 - utils - INFO - Removing 50 random stations from graph
2025-08-18 13:40:25,061 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-18 13:40:25,063 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-18 13:40:25,063 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-18 13:40:25,068 - __main__ - INFO - Creating new graph from random stations...
2025-08-18 13:40:25,069 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-18 13:40:25,089 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-18 13:40:25,089 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-18 13:40:25,089 - ors_router - INFO - Initialized distance matrix
2025-08-18 13:40:26,472 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-18 13:40:27,905 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-18 13:40:34,218 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-18 13:40:35,701 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-18 13:40:37,122 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-18 13:40:38,570 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-18 13:40:39,886 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-18 13:40:41,536 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-18 13:40:43,071 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-18 13:40:44,587 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-18 13:40:45,932 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-18 13:40:52,390 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-18 13:40:52,688 - ors_router - INFO - Distance matrix calculation completed
2025-08-18 13:40:52,688 - ors_router - INFO - Creating igraph directed graph...
2025-08-18 13:40:52,688 - ors_router - INFO - Adding edges with distance weights...
2025-08-18 13:40:52,742 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (158006 with finite weights, 1594 infinite)
2025-08-18 13:40:52,748 - utils - INFO - Removing edges longer than 500,000 meters
2025-08-18 13:40:52,815 - utils - INFO - Found 112848 edges longer than 500,000 meters (70.7% of all edges)
2025-08-18 13:40:52,825 - utils - INFO - Removed 112848 long edges. Graph now has 46752 edges
2025-08-18 13:40:52,827 - __main__ - INFO - Random comparison graph creation completed
2025-08-18 13:40:52,827 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-18 13:40:52,827 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 59552 edges
2025-08-18 13:40:52,827 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:40:52,943 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:40:52,983 - centrality - INFO - Farness centrality computation completed - Avg farness: 318690916.06, Max farness: 456606516.61
2025-08-18 13:40:52,989 - __main__ - INFO - Filtered graph farness computation completed
2025-08-18 13:40:52,989 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-18 13:40:52,989 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 46752 edges
2025-08-18 13:40:52,989 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-18 13:40:53,077 - centrality - INFO - Distance matrix calculation completed
2025-08-18 13:40:53,108 - centrality - INFO - Farness centrality computation completed - Avg farness: 285265467.35, Max farness: 407858717.58
2025-08-18 13:40:53,111 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-18 13:40:53,111 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-18 13:40:53,111 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-18 13:40:53,697 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-18 13:40:53,719 - pyogrio._io - INFO - Created 450 records
2025-08-18 13:40:54,043 - pyogrio._io - INFO - Created 59,552 records
2025-08-18 13:40:54,140 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-18 13:40:54,147 - __main__ - INFO - Filtered graph saved successfully
2025-08-18 13:40:54,147 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-18 13:40:54,147 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-18 13:40:54,562 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-18 13:40:54,586 - pyogrio._io - INFO - Created 400 records
2025-08-18 13:40:54,842 - pyogrio._io - INFO - Created 46,752 records
2025-08-18 13:40:54,920 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-18 13:40:54,925 - __main__ - INFO - Random comparison graph saved successfully
2025-08-18 13:40:54,925 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-18 13:40:54,925 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:40:54,927 - centrality - INFO - Graph connectivity: False, Components: 4
2025-08-18 13:40:54,938 - centrality - INFO - Using largest component with 447 nodes for centrality calculations
2025-08-18 13:40:55,129 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:40:55,822 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:40:55,822 - centrality - INFO - Computing comprehensive graph statistics...
2025-08-18 13:40:55,823 - centrality - INFO - Graph connectivity: False, Components: 3
2025-08-18 13:40:55,833 - centrality - INFO - Using largest component with 398 nodes for centrality calculations
2025-08-18 13:40:55,970 - centrality - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-18 13:40:56,510 - centrality - INFO - Graph statistics computation completed
2025-08-18 13:40:56,511 - __main__ - INFO - Comparison statistics generated
2025-08-18 13:40:56,511 - __main__ - INFO - ============================================================
2025-08-18 13:40:56,511 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-18 13:40:56,511 - __main__ - INFO - ============================================================
2025-08-19 11:06:48,669 - __main__ - INFO - ============================================================
2025-08-19 11:06:48,669 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-19 11:06:48,669 - __main__ - INFO - ============================================================
2025-08-19 11:06:48,669 - __main__ - INFO - Analysis parameters:
2025-08-19 11:06:48,669 - __main__ - INFO -   Place: Luxembourg
2025-08-19 11:06:48,669 - __main__ - INFO -   Max distance: 200,000 meters
2025-08-19 11:06:48,669 - __main__ - INFO -   Stations to remove: 50
2025-08-19 11:06:48,669 - __main__ - INFO -   ORS API Key: SET
2025-08-19 11:06:48,669 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-19 11:06:48,669 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-19 11:06:48,736 - __main__ - INFO - Loaded 500 fuel stations
2025-08-19 11:06:48,736 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-19 11:06:48,736 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-19 11:06:48,762 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-19 11:06:48,763 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-19 11:06:48,763 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:06:51,364 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-19 11:06:54,948 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-19 11:06:58,134 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-19 11:07:00,990 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-19 11:07:04,574 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-19 11:07:07,339 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-19 11:07:10,001 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-19 11:07:12,666 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-19 11:07:15,938 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-19 11:07:17,577 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-19 11:07:17,781 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:07:17,781 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:07:17,781 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:07:17,930 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-19 11:07:17,941 - __main__ - INFO - Initial graph created successfully
2025-08-19 11:07:17,941 - __main__ - INFO - STEP 2.1: Computing base convex hull for consistent Voronoi clipping...
2025-08-19 11:07:17,946 - __main__ - INFO - Base convex hull computed successfully - will be used for all Voronoi clipping
2025-08-19 11:07:17,946 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-19 11:07:17,946 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:07:18,050 - utils - INFO - Found 233112 edges longer than 200,000 meters (93.4% of all edges)
2025-08-19 11:07:18,066 - utils - INFO - Removed 233112 long edges. Graph now has 16388 edges
2025-08-19 11:07:18,068 - __main__ - INFO - Edge filtering completed
2025-08-19 11:07:18,068 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-19 11:07:18,068 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 16388 edges
2025-08-19 11:07:18,068 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:07:18,125 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:07:18,172 - centrality - INFO - Farness centrality computation completed - Avg farness: 438410569.76, Max farness: 884314215.55
2025-08-19 11:07:18,175 - __main__ - INFO - Farness centrality computation completed
2025-08-19 11:07:18,175 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-19 11:07:18,175 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:07:18,176 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:07:18,258 - stats - INFO - Using largest component with 486 nodes for centrality calculations
2025-08-19 11:07:18,318 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:07:19,010 - stats - INFO - Graph statistics computation completed
2025-08-19 11:07:19,011 - __main__ - INFO - Initial statistics computed
2025-08-19 11:07:19,011 - __main__ - INFO - STEP 5b: Saving Voronoi diagram for initial graph...
2025-08-19 11:07:19,011 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_initial.gpkg
2025-08-19 11:07:19,151 - __main__ - WARNING - Failed to save initial Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:07:19,151 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-19 11:07:19,151 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-19 11:07:19,302 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-19 11:07:19,351 - pyogrio._io - INFO - Created 500 records
2025-08-19 11:07:19,457 - pyogrio._io - INFO - Created 16,388 records
2025-08-19 11:07:19,498 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-19 11:07:19,500 - __main__ - INFO - Initial graph saved successfully
2025-08-19 11:07:19,500 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-19 11:07:19,500 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-19 11:07:19,500 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-19 11:07:19,500 - utils - INFO - Removing nodes with farness range: 615015905.37 - 884314215.55
2025-08-19 11:07:19,501 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-19 11:07:19,501 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-19 11:07:19,507 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-19 11:07:19,507 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-19 11:07:19,531 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-19 11:07:19,531 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-19 11:07:19,531 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:07:21,477 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-19 11:07:23,320 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-19 11:07:25,491 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-19 11:07:33,216 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-19 11:07:35,616 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-19 11:07:37,558 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-19 11:07:40,071 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-19 11:07:43,784 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-19 11:07:45,896 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-19 11:07:47,478 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-19 11:07:48,402 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:07:48,402 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:07:48,402 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:07:48,471 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-19 11:07:48,481 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:07:48,564 - utils - INFO - Found 186822 edges longer than 200,000 meters (92.5% of all edges)
2025-08-19 11:07:48,576 - utils - INFO - Removed 186822 long edges. Graph now has 15228 edges
2025-08-19 11:07:48,579 - __main__ - INFO - Filtered graph creation completed
2025-08-19 11:07:48,579 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-19 11:07:48,579 - __main__ - INFO - Removing random stations for comparison...
2025-08-19 11:07:48,579 - utils - INFO - Removing 50 random stations from graph
2025-08-19 11:07:48,579 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-19 11:07:48,580 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-19 11:07:48,580 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-19 11:07:48,585 - __main__ - INFO - Creating new graph from random stations...
2025-08-19 11:07:48,585 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-19 11:07:48,605 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-19 11:07:48,605 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-19 11:07:48,606 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:07:49,951 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-19 11:07:51,250 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-19 11:07:52,736 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-19 11:07:54,036 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-19 11:07:56,604 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-19 11:07:57,935 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-19 11:07:59,255 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-19 11:08:00,636 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-19 11:08:02,032 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-19 11:08:03,362 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-19 11:08:04,668 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-19 11:08:05,809 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-19 11:08:06,116 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:08:06,116 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:08:06,117 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:08:06,178 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (157212 with finite weights, 2388 infinite)
2025-08-19 11:08:06,184 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:08:06,253 - utils - INFO - Found 147645 edges longer than 200,000 meters (92.5% of all edges)
2025-08-19 11:08:06,266 - utils - INFO - Removed 147645 long edges. Graph now has 11955 edges
2025-08-19 11:08:06,267 - __main__ - INFO - Random comparison graph creation completed
2025-08-19 11:08:06,267 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-19 11:08:06,267 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 15228 edges
2025-08-19 11:08:06,268 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:08:06,315 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:08:06,355 - centrality - INFO - Farness centrality computation completed - Avg farness: 336314070.06, Max farness: 551208781.19
2025-08-19 11:08:06,360 - __main__ - INFO - Filtered graph farness computation completed
2025-08-19 11:08:06,360 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-19 11:08:06,360 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 11955 edges
2025-08-19 11:08:06,360 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:08:06,396 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:08:06,428 - centrality - INFO - Farness centrality computation completed - Avg farness: 300182108.60, Max farness: 488779092.60
2025-08-19 11:08:06,430 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-19 11:08:06,430 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-19 11:08:06,430 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-19 11:08:06,584 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-19 11:08:06,612 - pyogrio._io - INFO - Created 450 records
2025-08-19 11:08:06,735 - pyogrio._io - INFO - Created 15,228 records
2025-08-19 11:08:06,777 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-19 11:08:06,780 - __main__ - INFO - Filtered graph saved successfully
2025-08-19 11:08:06,781 - __main__ - INFO - STEP 9.1: Saving Voronoi diagram for filtered graph...
2025-08-19 11:08:06,781 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:08:06,781 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:08:06,859 - stats - INFO - Using largest component with 436 nodes for centrality calculations
2025-08-19 11:08:06,909 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:08:07,488 - stats - INFO - Graph statistics computation completed
2025-08-19 11:08:07,489 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_filtered.gpkg
2025-08-19 11:08:07,616 - __main__ - WARNING - Failed to save filtered Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:08:07,616 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-19 11:08:07,616 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-19 11:08:07,736 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-19 11:08:07,761 - pyogrio._io - INFO - Created 400 records
2025-08-19 11:08:07,851 - pyogrio._io - INFO - Created 11,955 records
2025-08-19 11:08:07,887 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-19 11:08:07,889 - __main__ - INFO - Random comparison graph saved successfully
2025-08-19 11:08:07,889 - __main__ - INFO - STEP 9.2: Saving Voronoi diagram for random comparison graph...
2025-08-19 11:08:07,889 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:08:07,889 - stats - INFO - Graph connectivity: False, Components: 9
2025-08-19 11:08:07,962 - stats - INFO - Using largest component with 388 nodes for centrality calculations
2025-08-19 11:08:07,997 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:08:08,458 - stats - INFO - Graph statistics computation completed
2025-08-19 11:08:08,459 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_random.gpkg
2025-08-19 11:08:08,584 - __main__ - WARNING - Failed to save random comparison Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:08:08,584 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-19 11:08:08,584 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:08:08,584 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:08:08,661 - stats - INFO - Using largest component with 436 nodes for centrality calculations
2025-08-19 11:08:08,712 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:08:09,313 - stats - INFO - Graph statistics computation completed
2025-08-19 11:08:09,314 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:08:09,314 - stats - INFO - Graph connectivity: False, Components: 9
2025-08-19 11:08:09,380 - stats - INFO - Using largest component with 388 nodes for centrality calculations
2025-08-19 11:08:09,416 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:08:09,887 - stats - INFO - Graph statistics computation completed
2025-08-19 11:08:09,892 - __main__ - INFO - Comparison statistics generated
2025-08-19 11:08:09,893 - __main__ - INFO - ============================================================
2025-08-19 11:08:09,893 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-19 11:08:09,893 - __main__ - INFO - ============================================================
2025-08-19 11:08:09,893 - __main__ - INFO - Note: All Voronoi diagrams were clipped using the original stations convex hull for consistency
2025-08-19 11:15:07,603 - __main__ - INFO - ============================================================
2025-08-19 11:15:07,603 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-19 11:15:07,603 - __main__ - INFO - ============================================================
2025-08-19 11:15:07,603 - __main__ - INFO - Analysis parameters:
2025-08-19 11:15:07,603 - __main__ - INFO -   Place: Luxembourg
2025-08-19 11:15:07,603 - __main__ - INFO -   Max distance: 200,000 meters
2025-08-19 11:15:07,603 - __main__ - INFO -   Stations to remove: 50
2025-08-19 11:15:07,603 - __main__ - INFO -   ORS API Key: SET
2025-08-19 11:15:07,603 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-19 11:15:07,603 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-19 11:15:07,653 - __main__ - INFO - Loaded 500 fuel stations
2025-08-19 11:15:07,653 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-19 11:15:07,653 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-19 11:15:07,679 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-19 11:15:07,679 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-19 11:15:07,680 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:15:16,626 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-19 11:15:19,592 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-19 11:15:22,553 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-19 11:15:27,173 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-19 11:15:30,140 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-19 11:15:32,745 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-19 11:15:35,457 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-19 11:15:38,332 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-19 11:15:41,190 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-19 11:15:42,828 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-19 11:15:43,036 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:15:43,036 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:15:43,037 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:15:43,213 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-19 11:15:43,219 - __main__ - INFO - Initial graph created successfully
2025-08-19 11:15:43,219 - __main__ - INFO - STEP 2.1: Computing base convex hull for consistent Voronoi clipping...
2025-08-19 11:15:43,224 - __main__ - INFO - Base convex hull computed successfully - will be used for all Voronoi clipping
2025-08-19 11:15:43,224 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-19 11:15:43,224 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:15:43,328 - utils - INFO - Found 233112 edges longer than 200,000 meters (93.4% of all edges)
2025-08-19 11:15:43,343 - utils - INFO - Removed 233112 long edges. Graph now has 16388 edges
2025-08-19 11:15:43,351 - __main__ - INFO - Edge filtering completed
2025-08-19 11:15:43,351 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-19 11:15:43,352 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 16388 edges
2025-08-19 11:15:43,352 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:15:43,410 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:15:43,456 - centrality - INFO - Farness centrality computation completed - Avg farness: 438410569.76, Max farness: 884314215.55
2025-08-19 11:15:43,456 - centrality - INFO - Computing 3-nearest neighbor distances for 500 nodes
2025-08-19 11:15:43,555 - centrality - INFO - k-NN distance computation completed - Avg 3-NN distance: 27014.12
2025-08-19 11:15:43,561 - __main__ - ERROR - CRITICAL ERROR in analysis pipeline: too many values to unpack (expected 2)
Traceback (most recent call last):
  File "/home/till/dev/python/fuel-stations-centrality/main.py", line 93, in main
    G, farness = farness_centrality(G, weight="weight", n=n)
    ^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2025-08-19 11:15:43,561 - __main__ - ERROR - Analysis failed - check logs above for details
2025-08-19 11:18:02,605 - __main__ - INFO - ============================================================
2025-08-19 11:18:02,605 - __main__ - INFO - FUEL STATION CENTRALITY ANALYSIS STARTING
2025-08-19 11:18:02,605 - __main__ - INFO - ============================================================
2025-08-19 11:18:02,605 - __main__ - INFO - Analysis parameters:
2025-08-19 11:18:02,605 - __main__ - INFO -   Place: Luxembourg
2025-08-19 11:18:02,605 - __main__ - INFO -   Max distance: 200,000 meters
2025-08-19 11:18:02,605 - __main__ - INFO -   Stations to remove: 50
2025-08-19 11:18:02,605 - __main__ - INFO -   ORS API Key: SET
2025-08-19 11:18:02,605 - __main__ - INFO - STEP 1: Loading fuel stations data...
2025-08-19 11:18:02,605 - __main__ - INFO - Loading stations from file: stations_iran.gpkg
2025-08-19 11:18:02,665 - __main__ - INFO - Loaded 500 fuel stations
2025-08-19 11:18:02,666 - __main__ - INFO - STEP 2: Creating station graph using OpenRouteService...
2025-08-19 11:18:02,666 - ors_router - INFO - Creating graph from 500 fuel stations using profile: driving-car
2025-08-19 11:18:02,692 - ors_router - INFO - Successfully extracted 500 valid station locations
2025-08-19 11:18:02,692 - ors_router - INFO - Split into 9 chunks of max 59 locations each
2025-08-19 11:18:02,692 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:18:05,484 - ors_router - INFO - Distance matrix progress: 8/81 (9.9%)
2025-08-19 11:18:08,183 - ors_router - INFO - Distance matrix progress: 16/81 (19.8%)
2025-08-19 11:18:11,005 - ors_router - INFO - Distance matrix progress: 24/81 (29.6%)
2025-08-19 11:18:13,779 - ors_router - INFO - Distance matrix progress: 32/81 (39.5%)
2025-08-19 11:18:16,476 - ors_router - INFO - Distance matrix progress: 40/81 (49.4%)
2025-08-19 11:18:18,977 - ors_router - INFO - Distance matrix progress: 48/81 (59.3%)
2025-08-19 11:18:21,663 - ors_router - INFO - Distance matrix progress: 56/81 (69.1%)
2025-08-19 11:18:24,317 - ors_router - INFO - Distance matrix progress: 64/81 (79.0%)
2025-08-19 11:18:27,181 - ors_router - INFO - Distance matrix progress: 72/81 (88.9%)
2025-08-19 11:18:28,719 - ors_router - INFO - Distance matrix progress: 80/81 (98.8%)
2025-08-19 11:18:28,923 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:18:28,923 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:18:28,924 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:18:29,074 - ors_router - INFO - Graph creation completed: 500 vertices, 249500 edges (246512 with finite weights, 2988 infinite)
2025-08-19 11:18:29,086 - __main__ - INFO - Initial graph created successfully
2025-08-19 11:18:29,086 - __main__ - INFO - STEP 2.1: Computing base convex hull for consistent Voronoi clipping...
2025-08-19 11:18:29,091 - __main__ - INFO - Base convex hull computed successfully - will be used for all Voronoi clipping
2025-08-19 11:18:29,091 - __main__ - INFO - STEP 3: Filtering long-distance edges...
2025-08-19 11:18:29,091 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:18:29,196 - utils - INFO - Found 233112 edges longer than 200,000 meters (93.4% of all edges)
2025-08-19 11:18:29,216 - utils - INFO - Removed 233112 long edges. Graph now has 16388 edges
2025-08-19 11:18:29,220 - __main__ - INFO - Edge filtering completed
2025-08-19 11:18:29,220 - __main__ - INFO - STEP 4: Computing farness centrality...
2025-08-19 11:18:29,220 - centrality - INFO - Computing farness centrality for graph with 500 nodes and 16388 edges
2025-08-19 11:18:29,220 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:18:29,278 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:18:29,326 - centrality - INFO - Farness centrality computation completed - Avg farness: 438410569.76, Max farness: 884314215.55
2025-08-19 11:18:29,326 - centrality - INFO - Computing 3-nearest neighbor distances for 500 nodes
2025-08-19 11:18:29,426 - centrality - INFO - k-NN distance computation completed - Avg 3-NN distance: 27014.12
2025-08-19 11:18:29,431 - __main__ - INFO - Farness centrality computation completed
2025-08-19 11:18:29,431 - __main__ - INFO - STEP 5: Computing initial graph statistics...
2025-08-19 11:18:29,431 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:18:29,432 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:18:29,513 - stats - INFO - Using largest component with 486 nodes for centrality calculations
2025-08-19 11:18:29,573 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:18:30,235 - stats - INFO - Graph statistics computation completed
2025-08-19 11:18:30,235 - __main__ - INFO - Initial statistics computed
2025-08-19 11:18:30,235 - __main__ - INFO - STEP 5b: Saving Voronoi diagram for initial graph...
2025-08-19 11:18:30,236 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_initial.gpkg
2025-08-19 11:18:30,373 - __main__ - WARNING - Failed to save initial Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:18:30,373 - __main__ - INFO - STEP 6: Saving initial graph to GeoPackage...
2025-08-19 11:18:30,373 - utils - INFO - Saving graph to GeoPackage: fuel_stations.gpkg
2025-08-19 11:18:30,522 - utils - INFO - Writing graph data to output/fuel_stations.gpkg...
2025-08-19 11:18:30,571 - pyogrio._io - INFO - Created 500 records
2025-08-19 11:18:30,675 - pyogrio._io - INFO - Created 16,388 records
2025-08-19 11:18:30,714 - utils - INFO - Successfully saved graph to output/fuel_stations.gpkg
2025-08-19 11:18:30,717 - __main__ - INFO - Initial graph saved successfully
2025-08-19 11:18:30,718 - __main__ - INFO - STEP 7: Filtering stations and creating optimized graph...
2025-08-19 11:18:30,718 - __main__ - INFO - Filtering stations based on farness centrality...
2025-08-19 11:18:30,718 - utils - INFO - Filtering graph: removing 50 stations with highest farness
2025-08-19 11:18:30,718 - utils - INFO - Removing nodes with farness range: 615015905.37 - 884314215.55
2025-08-19 11:18:30,719 - utils - INFO - Graph filtering completed: 500 → 450 nodes
2025-08-19 11:18:30,719 - __main__ - INFO - Converting filtered graph to GeoDataFrame...
2025-08-19 11:18:30,724 - __main__ - INFO - Creating new graph from filtered stations...
2025-08-19 11:18:30,724 - ors_router - INFO - Creating graph from 450 fuel stations using profile: driving-car
2025-08-19 11:18:30,753 - ors_router - INFO - Successfully extracted 450 valid station locations
2025-08-19 11:18:30,753 - ors_router - INFO - Split into 8 chunks of max 59 locations each
2025-08-19 11:18:30,753 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:18:32,765 - ors_router - INFO - Distance matrix progress: 6/64 (9.4%)
2025-08-19 11:18:34,643 - ors_router - INFO - Distance matrix progress: 12/64 (18.8%)
2025-08-19 11:18:36,610 - ors_router - INFO - Distance matrix progress: 18/64 (28.1%)
2025-08-19 11:18:38,754 - ors_router - INFO - Distance matrix progress: 24/64 (37.5%)
2025-08-19 11:18:40,803 - ors_router - INFO - Distance matrix progress: 30/64 (46.9%)
2025-08-19 11:18:42,860 - ors_router - INFO - Distance matrix progress: 36/64 (56.2%)
2025-08-19 11:18:45,005 - ors_router - INFO - Distance matrix progress: 42/64 (65.6%)
2025-08-19 11:18:47,151 - ors_router - INFO - Distance matrix progress: 48/64 (75.0%)
2025-08-19 11:18:49,422 - ors_router - INFO - Distance matrix progress: 54/64 (84.4%)
2025-08-19 11:18:58,110 - ors_router - INFO - Distance matrix progress: 60/64 (93.8%)
2025-08-19 11:18:58,946 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:18:58,947 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:18:58,947 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:18:59,010 - ors_router - INFO - Graph creation completed: 450 vertices, 202050 edges (199362 with finite weights, 2688 infinite)
2025-08-19 11:18:59,015 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:18:59,099 - utils - INFO - Found 186822 edges longer than 200,000 meters (92.5% of all edges)
2025-08-19 11:18:59,113 - utils - INFO - Removed 186822 long edges. Graph now has 15228 edges
2025-08-19 11:18:59,118 - __main__ - INFO - Filtered graph creation completed
2025-08-19 11:18:59,118 - __main__ - INFO - STEP 7b: Creating random comparison graph...
2025-08-19 11:18:59,118 - __main__ - INFO - Removing random stations for comparison...
2025-08-19 11:18:59,119 - utils - INFO - Removing 50 random stations from graph
2025-08-19 11:18:59,120 - utils - INFO - Selected 50 random nodes for removal: [3, 12, 13, 15, 16, 44, 47, 49, 52, 57]...
2025-08-19 11:18:59,120 - utils - INFO - Random station removal completed: 450 → 400 nodes
2025-08-19 11:18:59,120 - __main__ - INFO - Converting random graph to GeoDataFrame...
2025-08-19 11:18:59,125 - __main__ - INFO - Creating new graph from random stations...
2025-08-19 11:18:59,125 - ors_router - INFO - Creating graph from 400 fuel stations using profile: driving-car
2025-08-19 11:18:59,146 - ors_router - INFO - Successfully extracted 400 valid station locations
2025-08-19 11:18:59,146 - ors_router - INFO - Split into 7 chunks of max 59 locations each
2025-08-19 11:18:59,146 - ors_router - INFO - Initialized distance matrix
2025-08-19 11:19:01,197 - ors_router - INFO - Distance matrix progress: 4/49 (8.2%)
2025-08-19 11:19:02,626 - ors_router - INFO - Distance matrix progress: 8/49 (16.3%)
2025-08-19 11:19:04,266 - ors_router - INFO - Distance matrix progress: 12/49 (24.5%)
2025-08-19 11:19:05,803 - ors_router - INFO - Distance matrix progress: 16/49 (32.7%)
2025-08-19 11:19:07,337 - ors_router - INFO - Distance matrix progress: 20/49 (40.8%)
2025-08-19 11:19:08,783 - ors_router - INFO - Distance matrix progress: 24/49 (49.0%)
2025-08-19 11:19:10,090 - ors_router - INFO - Distance matrix progress: 28/49 (57.1%)
2025-08-19 11:19:11,396 - ors_router - INFO - Distance matrix progress: 32/49 (65.3%)
2025-08-19 11:19:12,869 - ors_router - INFO - Distance matrix progress: 36/49 (73.5%)
2025-08-19 11:19:14,397 - ors_router - INFO - Distance matrix progress: 40/49 (81.6%)
2025-08-19 11:19:15,824 - ors_router - INFO - Distance matrix progress: 44/49 (89.8%)
2025-08-19 11:19:17,053 - ors_router - INFO - Distance matrix progress: 48/49 (98.0%)
2025-08-19 11:19:17,360 - ors_router - INFO - Distance matrix calculation completed
2025-08-19 11:19:17,360 - ors_router - INFO - Creating igraph directed graph...
2025-08-19 11:19:17,360 - ors_router - INFO - Adding edges with distance weights...
2025-08-19 11:19:17,412 - ors_router - INFO - Graph creation completed: 400 vertices, 159600 edges (157212 with finite weights, 2388 infinite)
2025-08-19 11:19:17,417 - utils - INFO - Removing edges longer than 200,000 meters
2025-08-19 11:19:17,485 - utils - INFO - Found 147645 edges longer than 200,000 meters (92.5% of all edges)
2025-08-19 11:19:17,496 - utils - INFO - Removed 147645 long edges. Graph now has 11955 edges
2025-08-19 11:19:17,498 - __main__ - INFO - Random comparison graph creation completed
2025-08-19 11:19:17,498 - __main__ - INFO - STEP 8: Computing farness centrality for filtered graph...
2025-08-19 11:19:17,498 - centrality - INFO - Computing farness centrality for graph with 450 nodes and 15228 edges
2025-08-19 11:19:17,498 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:19:17,545 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:19:17,583 - centrality - INFO - Farness centrality computation completed - Avg farness: 336314070.06, Max farness: 551208781.19
2025-08-19 11:19:17,584 - centrality - INFO - Computing 3-nearest neighbor distances for 450 nodes
2025-08-19 11:19:17,669 - centrality - INFO - k-NN distance computation completed - Avg 3-NN distance: 24702.75
2025-08-19 11:19:17,672 - __main__ - INFO - Filtered graph farness computation completed
2025-08-19 11:19:17,672 - __main__ - INFO - STEP 8b: Computing farness centrality for random comparison graph...
2025-08-19 11:19:17,673 - centrality - INFO - Computing farness centrality for graph with 400 nodes and 11955 edges
2025-08-19 11:19:17,673 - centrality - INFO - Calculating shortest path distances matrix...
2025-08-19 11:19:17,707 - centrality - INFO - Distance matrix calculation completed
2025-08-19 11:19:17,738 - centrality - INFO - Farness centrality computation completed - Avg farness: 300182108.60, Max farness: 488779092.60
2025-08-19 11:19:17,738 - centrality - INFO - Computing 3-nearest neighbor distances for 400 nodes
2025-08-19 11:19:17,800 - centrality - INFO - k-NN distance computation completed - Avg 3-NN distance: 26136.78
2025-08-19 11:19:17,804 - __main__ - INFO - Random comparison graph farness computation completed
2025-08-19 11:19:17,804 - __main__ - INFO - STEP 9: Saving filtered graph...
2025-08-19 11:19:17,804 - utils - INFO - Saving graph to GeoPackage: fuel_stations_filtered.gpkg
2025-08-19 11:19:17,951 - utils - INFO - Writing graph data to output/fuel_stations_filtered.gpkg...
2025-08-19 11:19:17,979 - pyogrio._io - INFO - Created 450 records
2025-08-19 11:19:18,079 - pyogrio._io - INFO - Created 15,228 records
2025-08-19 11:19:18,119 - utils - INFO - Successfully saved graph to output/fuel_stations_filtered.gpkg
2025-08-19 11:19:18,122 - __main__ - INFO - Filtered graph saved successfully
2025-08-19 11:19:18,122 - __main__ - INFO - STEP 9.1: Saving Voronoi diagram for filtered graph...
2025-08-19 11:19:18,122 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:19:18,122 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:19:18,196 - stats - INFO - Using largest component with 436 nodes for centrality calculations
2025-08-19 11:19:18,245 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:19:18,803 - stats - INFO - Graph statistics computation completed
2025-08-19 11:19:18,804 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_filtered.gpkg
2025-08-19 11:19:18,927 - __main__ - WARNING - Failed to save filtered Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:19:18,928 - __main__ - INFO - STEP 9b: Saving random comparison graph...
2025-08-19 11:19:18,928 - utils - INFO - Saving graph to GeoPackage: fuel_stations_random.gpkg
2025-08-19 11:19:19,040 - utils - INFO - Writing graph data to output/fuel_stations_random.gpkg...
2025-08-19 11:19:19,064 - pyogrio._io - INFO - Created 400 records
2025-08-19 11:19:19,157 - pyogrio._io - INFO - Created 11,955 records
2025-08-19 11:19:19,194 - utils - INFO - Successfully saved graph to output/fuel_stations_random.gpkg
2025-08-19 11:19:19,195 - __main__ - INFO - Random comparison graph saved successfully
2025-08-19 11:19:19,195 - __main__ - INFO - STEP 9.2: Saving Voronoi diagram for random comparison graph...
2025-08-19 11:19:19,195 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:19:19,196 - stats - INFO - Graph connectivity: False, Components: 9
2025-08-19 11:19:19,262 - stats - INFO - Using largest component with 388 nodes for centrality calculations
2025-08-19 11:19:19,297 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:19:19,727 - stats - INFO - Graph statistics computation completed
2025-08-19 11:19:19,728 - utils - INFO - Saving Voronoi diagram to GeoPackage: voronoi_random.gpkg
2025-08-19 11:19:19,842 - __main__ - WARNING - Failed to save random comparison Voronoi diagram: cannot access local variable 'output_path' where it is not associated with a value
2025-08-19 11:19:19,842 - __main__ - INFO - STEP 10: Generating comparison statistics...
2025-08-19 11:19:19,843 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:19:19,843 - stats - INFO - Graph connectivity: False, Components: 11
2025-08-19 11:19:19,916 - stats - INFO - Using largest component with 436 nodes for centrality calculations
2025-08-19 11:19:19,966 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:19:20,520 - stats - INFO - Graph statistics computation completed
2025-08-19 11:19:20,522 - stats - INFO - Computing comprehensive graph statistics...
2025-08-19 11:19:20,522 - stats - INFO - Graph connectivity: False, Components: 9
2025-08-19 11:19:20,588 - stats - INFO - Using largest component with 388 nodes for centrality calculations
2025-08-19 11:19:20,624 - stats - WARNING - Failed to compute betweenness centrality: this function got an unexpected keyword argument 'normalized'
2025-08-19 11:19:21,060 - stats - INFO - Graph statistics computation completed
2025-08-19 11:19:21,061 - __main__ - INFO - Comparison statistics generated
2025-08-19 11:19:21,061 - __main__ - INFO - ============================================================
2025-08-19 11:19:21,061 - __main__ - INFO - ANALYSIS COMPLETED SUCCESSFULLY
2025-08-19 11:19:21,061 - __main__ - INFO - ============================================================
2025-08-19 11:19:21,061 - __main__ - INFO - Note: All Voronoi diagrams were clipped using the original stations convex hull for consistency
